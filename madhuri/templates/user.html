{% extends 'index.html'%}
{% block body%}
{% include 'usermodal.html'%}
{% include 'useredit.html'%}
{% include 'userdelete.html'%}
<!-- [ breadcrumb ] end -->
<div class="pcoded-inner-content">
    <!-- Main-body start -->
    <div class="main-body">
        <div class="row">
            <div class="col-sm-12">
                <div class="card" id="user-table">
                    <div class="card-header">
                        <h3>user</h3>
                        <center>
                            <button type="button"
                                    class="btn btn-success btn-round waves-effect waves-light md-trigger md-setperspective"
                                    data-modal="modal-19">Add User
                            </button>
                        </center>
                        <div class="table-responsive dt-responsive">
                            <table id="dom-jqry" class="table table-striped table-bordered nowrap">
                                <thead>
                                <tr>
                                    <th style="text-align: center" width="8%">First Name</th>
                                    <th style="text-align: center" width="8%">Last Name</th>
                                    <th style="text-align: center" width="8%">Username</th>
                                    <th style="text-align: center" width="8%">Email</th>
                                    <th style="text-align: center" width="8%">Action</th>
                                </tr>
                                </thead>
                                <tbody>

                                {% for value in values%}
                                <tr>
                                    <td style="text-align: center" width="8%">{{value[1]}}</td>
                                    <td style="text-align: center" width="8%">{{value[2]}}</td>
                                    <td style="text-align: center" width="8%">{{value[3]}}</td>
                                    <td style="text-align: center" width="8%">{{value[4]}}</td>
                                    <td style="text-align: center" width="8%">
                                        <center>
                                            <a class="btn btn waves-effect waves-light btn-success btn-square md-trigger md-setperspective btn-sm
                                            edit-button"
                                               data-id={{value[0]}} data-first={{value[1]}} data-last={{value[2]}} data-username={{value[3]}} data-email={{value[4]}}
                                               data-modal="modal-18"><i class="fa fa-edit"></i></a>

                                            <button type="button"
                                                    class="btn btn waves-effect waves-light btn-danger btn-square md-trigger btn-sm deleteuser"
                                                    data-modal="modal-2" data-id="{{value[0]}}"><i
                                                    class="fa fa-trash"></i>
                                            </button>
                                        </center>
                                    </td>
                                </tr>
                                {% endfor %}
                                </tbody>

                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<script>
    $(".deleteuser").click(function () {
        $("#user-id").val($(this).data('id'));
        //
    });
</script>
<script type="text/javascript">
    $(".edit-button").click(function()
    {
      $("#usere-id").val($(this).data('id'));
      $("#first-name").val($(this).data('first'));
      $("#last-name").val($(this).data('last'));
      $("#userna").val($(this).data('username'));
      $("#email-id").val($(this).data('email'));

    });
</script>
<script type="text/javascript">
var password = document.getElementById("password")
  , confirm_password = document.getElementById("confirm_password");

function validatePassword(){
  if(password.value != confirm_password.value) {
    confirm_password.setCustomValidity("Passwords Don't Match");
  } else {
    confirm_password.setCustomValidity('');
  }
}
password.onchange = validatePassword;
confirm_password.onkeyup = validatePassword;
</script>
{% endblock %}